(window.webpackJsonp=window.webpackJsonp||[]).push([[12,5,22],{257:function(e,t,n){"use strict";n.r(t);var r={props:{title:{type:String,required:!0}}},o=n(48),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("h3",{staticClass:"text-3xl mb-5"},[e._v("\n  "+e._s(e.title)+"\n")])}),[],!1,null,null,null);t.default=component.exports},258:function(e,t,n){"use strict";n.r(t);var r={props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}}},o=n(48),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"text-white font-bold py-2 px-4 rounded",class:{"bg-blue-500":!e.disabled&&!e.loading,"hover:bg-blue-700":!e.disabled&&!e.loading,"bg-gray-600":e.disabled||e.loading,"cursor-not-allowed":e.disabled,"cursor-wait":e.loading},attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[e.loading?n("div",[e._v("Loading...")]):e._t("default")],2)}),[],!1,null,"254cc730",null);t.default=component.exports},293:function(e,t,n){"use strict";n.r(t);var r=n(3),o=(n(76),n(13),n(2).a.extend({data:function(){return{listenersStarted:!1,permissionGranted:!1,idToken:"",loading:!1}},methods:{requestPermission:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Notification.requestPermission();case 3:n=t.sent,e.permissionGranted="granted"===n,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getIdToken:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$fire.messaging.getToken();case 4:n=t.sent,t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),console.error("An error occurred while retrieving token. ",t.t0),e.idToken="",e.loading=!1;case 12:n?e.idToken=n:(console.info("No Instance ID token available. Request permission to generate one."),e.idToken=""),alert("The id token is: ".concat(e.idToken)),e.loading=!1;case 15:case"end":return t.stop()}}),t,null,[[1,7]])})))()},startListeners:function(){this.startOnMessageListener(),this.listenersStarted=!0},startOnMessageListener:function(){this.$fire.messaging.onMessage((function(e){console.info("Message received. ",e)}))},sendTestMessage:function(){var e=this;try{setTimeout((function(){e.$fire.functions.httpsCallable("sendTestPushMessage")({token:e.idToken})}),5e3)}catch(e){alert(e)}}}})),l=n(48),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("ServiceTitle",{attrs:{title:"Firebase Messaging"}}),e._v(" "),n("Btn",{attrs:{disabled:e.listenersStarted},on:{click:e.startListeners}},[e._v("Start Listeners")]),e._v(" "),n("Btn",{staticClass:"mb-1",attrs:{disabled:e.permissionGranted||!e.listenersStarted},on:{click:e.requestPermission}},[e._v("\n      Request Permission\n    ")]),e._v(" "),n("Btn",{staticClass:"mb-1",attrs:{disabled:!e.listenersStarted||!e.permissionGranted||""!==e.idToken,loading:e.loading},on:{click:e.getIdToken}},[e._v("\n      Get ID Token\n    ")]),e._v(" "),n("Btn",{staticClass:"mb-1",attrs:{disabled:""===e.idToken},on:{click:e.sendTestMessage}},[e._v("\n      Send Test Push Message\n    ")])],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ServiceTitle:n(257).default,Btn:n(258).default})}}]);